<template name="header">
	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
				data-target="#header-collapsed">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="{{ pathFor 'home' }}">TinyTank</a>
		</div>

		<div class="collapse navbar-collapse" id="header-collapsed">
			{{> navItems }}
		</div>
	</div>
</nav>
</template>

<template name="navItems">
	<ul class="nav navbar-nav">
		{{> navLItems }}
	</ul>
	<div class="navbar-form navbar-right">
		{{> search }}
	</div>
	<ul class="nav navbar-nav navbar-right">
		{{> navRItems }}
	</ul>
</template>

<template name="navLItems">
	{{#if currentUser}}
	<li class="{{ isActive 'profile' }}">
		<a href="{{ pathFor 'profile' }}">{{ currentUser.username }}</a>
	</li>
	<li>
		{{> logout}}
	</li>
	{{else}}
	<li class="{{ isActive 'login|register' }}">
		<a href="{{ pathFor 'login' }}">Login/Register</a>
	</li>
	{{/if}}
	<li class="{{ isActive 'ladder' }}">
		<a href="{{ pathFor 'ladder' }}" class="navbar-item" title="Ladder">
			<i class="fa fa-table" aria-hidden="true"></i>
			<span class="navbar-item-text">Ladder</span>
		</a>
	</li>
	<li class="{{ isActive 'servers-list' }}">
		<a href="{{ pathFor 'servers-list' }}" class="navbar-item" title="Servers List">
			<i class="fa fa-server" aria-hidden="true"></i>
			<span class="navbar-item-text">Servers List</span>
		</a>
	</li>
</template>

<template name="navRItems">
	<li class="{{ isActive 'downloads' }}">
		<a href="{{ pathFor 'downloads' }}" class="navbar-item" title="Downloads">
			<i class="fa fa-download" aria-hidden="true"></i>
			<span class="navbar-item-text">Downloads</span>
		</a>
	</li>
	<li>
		<a href="https://github.com/LeNiglo/TinyTank-v3" target="_blank" class="navbar-item" title="Github">
			<i class="fa fa-github" aria-hidden="true"></i>
			<span class="navbar-item-text">Github</span>
		</a>
	</li>
</template>
